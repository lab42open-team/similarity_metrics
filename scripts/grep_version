### In this file you can find commands to retrieve number of studies per MGnify version pipeline 
# Head parent file study_version.tsv 
head /ccmri/similarity_metrics/data/study_version.tsv

# Count number of studies per version and write it to output 
cat /ccmri/similarity_metrics/data/study_version.tsv | grep v1 | wc -l > 1.tsv
    # v1 = 143
    # v2 = 629
    # v3 = 610
    # v4 = 2406
    # v5 =  979

### Run all commands below to get a single output with all version and corresponding number of studies found 
# Count number of studies per version and write it in output (total)
#! bin/bach

# Loop though versions 1 to 5
for i in {1..5}; do
    # Grep version and count lines 
    count=$(cat /ccmri/similarity_metrics/data/study_version.tsv | grep "v$i" | wc -l) 

    # Write directly to final output - if you select this option, ignore commands below and add "done" here
    echo -e "v$i\t$count" >> /ccmri/similarity_metrics/data/version_count.tsv
done

### OPTIONAL
    # Or write version and count to temporary output file, if you want to add header ### OPTIONAL
    echo -e "v$i\t$count" >> /ccmri/similarity_metrics/data/temp.tsv
done

# Create header for .tsv file 
echo -e "Version\tCount" > /ccmri/similarity_metrics/data/version_count.tsv

# Append counts from temporary to result file
cat temp.tsv >> /ccmri/similarity_metrics/data/version_count.tsv

# Remove temporary file 
rm /ccmri/similarity_metrics/data/temp.tsv